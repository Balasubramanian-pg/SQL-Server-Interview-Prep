# 10. Temporal Tables (System-Versioned)

Canonical documentation for 10. Temporal Tables (System-Versioned). This document defines the conceptual model, terminology, and standard usage patterns.

> [!NOTE]
> This documentation is implementation-agnostic and intended to serve as a stable reference.

## 1. Purpose and Problem Space
Describe why 10. Temporal Tables (System-Versioned) exists and the class of problems it addresses.
Temporal tables, also known as system-versioned tables, are designed to store and manage data that changes over time. They provide a mechanism to track changes to data, allowing for auditing, data recovery, and analysis of historical data. The primary problem space addressed by temporal tables is the need to maintain a record of changes to data, including who made the changes, when the changes were made, and what the changes were. This is particularly useful in applications where data integrity and auditing are critical, such as financial transactions, healthcare records, and regulatory compliance.

## 2. Conceptual Overview
Provide a high-level mental model of the topic.
Temporal tables are a type of database table that stores multiple versions of each row, with each version representing a point in time. The table is divided into two parts: the current table and the history table. The current table stores the current version of each row, while the history table stores all previous versions of each row. The system automatically manages the versions, including creating new versions when changes are made and storing the previous versions in the history table.

## 3. Terminology and Definitions
| Term | Definition |
|------|------------|
| System-Versioned Table | A table that stores multiple versions of each row, with each version representing a point in time. |
| Current Table | The part of the temporal table that stores the current version of each row. |
| History Table | The part of the temporal table that stores all previous versions of each row. |
| Row Version | A single version of a row, representing the state of the row at a particular point in time. |
| Period | A duration of time during which a row version is valid. |

## 4. Core Concepts
Explain the fundamental ideas that form the basis of this topic.
The core concepts of temporal tables include:
* **Versioning**: The ability to store multiple versions of each row, allowing for tracking of changes over time.
* **System-managed**: The system automatically manages the versions, including creating new versions and storing previous versions.
* **Point-in-time analysis**: The ability to query the table as it existed at a particular point in time.
* **Audit and compliance**: The ability to track changes to data, including who made the changes and when.

## 5. Standard Model
Describe the generally accepted or recommended model.
The standard model for temporal tables includes:
* A current table that stores the current version of each row.
* A history table that stores all previous versions of each row.
* A system-managed mechanism for creating new versions and storing previous versions.
* A query mechanism that allows for point-in-time analysis.

## 6. Common Patterns
Document recurring, accepted patterns.
Common patterns for using temporal tables include:
* **Auditing and compliance**: Using temporal tables to track changes to data, including who made the changes and when.
* **Data recovery**: Using temporal tables to recover data that has been accidentally deleted or modified.
* **Historical analysis**: Using temporal tables to analyze data as it existed at a particular point in time.

## 7. Anti-Patterns
Describe common but discouraged practices.
Anti-patterns for using temporal tables include:
* **Manual versioning**: Manually managing versions, rather than relying on the system-managed mechanism.
* **Over-reliance on history table**: Using the history table as the primary table, rather than the current table.
* **Inconsistent querying**: Using inconsistent query mechanisms, rather than the standard query mechanism.

## 8. References
Provide exactly five authoritative external references.
1. [Microsoft SQL Server Documentation: Temporal Tables](https://docs.microsoft.com/en-us/sql/relational-databases/tables/temporal-tables)
2. [Oracle Database Documentation: Flashback Technology](https://docs.oracle.com/en/database/oracle/oracle-database/21/adfns/flashback.html)
3. [IBM DB2 Documentation: Temporal Tables](https://www.ibm.com/support/knowledgecenter/en/SSEPGG_11.5.0/com.ibm.db2.luw.sql.ref.doc/doc/r0054776.html)
4. [PostgreSQL Documentation: Temporal Tables](https://www.postgresql.org/docs/current/sql-createtable.html#SQL-CREATETABLE-TABLE-CONSTRAINTS-TABLE-CONSTRAINTS-Temporal)
5. [ANSI/INCITS 538-2016: Information Technology – Database Language – SQL – Part 2: Foundation (SQL/Foundation)](https://standards.incits.org/std/INCITS%20538-2016/INCITS%20538-2016.pdf)

## 9. Change Log
| Version | Date | Description |
|---------|------|-------------|
| 1.0 | 2026-02-14 | Initial documentation |
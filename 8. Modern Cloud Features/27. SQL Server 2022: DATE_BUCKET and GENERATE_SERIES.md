# 27. SQL Server 2022: DATE_BUCKET and GENERATE_SERIES

Canonical documentation for 27. SQL Server 2022: DATE_BUCKET and GENERATE_SERIES. This document defines the conceptual model, terminology, and standard usage patterns.

> [!NOTE]
> This documentation is implementation-agnostic and intended to serve as a stable reference.

## 1. Purpose and Problem Space
Describe why 27. SQL Server 2022: DATE_BUCKET and GENERATE_SERIES exists and the class of problems it addresses.
The DATE_BUCKET and GENERATE_SERIES functions in SQL Server 2022 address the need for efficient and flexible date and time manipulation, particularly in scenarios involving time-series data, scheduling, and data aggregation. These functions simplify complex date-related calculations, enabling developers to write more concise and readable code.

## 2. Conceptual Overview
Provide a high-level mental model of the topic.
The DATE_BUCKET function allows for grouping dates into fixed-size intervals (or buckets), while the GENERATE_SERIES function generates a series of dates or numbers within a specified range. This enables the creation of calendars, schedules, and data aggregations based on custom time intervals.

## 3. Terminology and Definitions
| Term | Definition |
|------|------------|
| DATE_BUCKET | A function that groups dates into fixed-size intervals. |
| GENERATE_SERIES | A function that generates a series of dates or numbers within a specified range. |
| Time Interval | A fixed-size duration used for grouping dates, such as hours, days, or months. |
| Start Date | The initial date of a series or bucket. |
| End Date | The final date of a series or bucket. |
| Bucket Size | The duration of each bucket or interval. |

## 4. Core Concepts
Explain the fundamental ideas that form the basis of this topic.
The core concepts of DATE_BUCKET and GENERATE_SERIES involve:
* Time intervals: The basic unit of time used for grouping or generating dates.
* Bucketing: The process of grouping dates into fixed-size intervals.
* Series generation: The creation of a sequence of dates or numbers within a specified range.
* Customization: The ability to specify start dates, end dates, and bucket sizes to tailor the output to specific needs.

## 5. Standard Model
Describe the generally accepted or recommended model.
The standard model for using DATE_BUCKET and GENERATE_SERIES involves:
1. Defining the time interval or bucket size.
2. Specifying the start and end dates for the series or bucket.
3. Applying the DATE_BUCKET or GENERATE_SERIES function to generate the desired output.
4. Using the resulting dates or series in subsequent queries or calculations.

## 6. Common Patterns
Document recurring, accepted patterns.
Common patterns for using DATE_BUCKET and GENERATE_SERIES include:
* Creating calendars or schedules with custom time intervals.
* Aggregating data by fixed-size time intervals (e.g., daily, weekly, monthly).
* Generating sequences of dates for reporting or analysis purposes.

## 7. Anti-Patterns
Describe common but discouraged practices.
Anti-patterns to avoid when using DATE_BUCKET and GENERATE_SERIES include:
* Using arbitrary or inconsistent time intervals.
* Failing to account for daylight saving time (DST) or other time zone considerations.
* Overly complex or nested usage of the functions, leading to performance issues or readability problems.

## 8. References
Provide exactly five authoritative external references.
1. [Microsoft SQL Server Documentation: DATE_BUCKET](https://docs.microsoft.com/en-us/sql/t-sql/functions/date-bucket-transact-sql)
2. [Microsoft SQL Server Documentation: GENERATE_SERIES](https://docs.microsoft.com/en-us/sql/t-sql/functions/generate-series-transact-sql)
3. [SQL Server 2022: What's New](https://docs.microsoft.com/en-us/sql/sql-server/what-s-new-in-sql-server-2022)
4. [T-SQL Functions (Microsoft SQL Server)](https://docs.microsoft.com/en-us/sql/t-sql/functions/functions)
5. [SQL Server 2022 Release Notes](https://docs.microsoft.com/en-us/sql/sql-server/sql-server-2022-release-notes)

## 9. Change Log
| Version | Date | Description |
|---------|------|-------------|
| 1.0 | 2026-02-14 | Initial documentation |
# 47. SQL Ledger: Append-only vs Updatable Ledger

Canonical documentation for 47. SQL Ledger: Append-only vs Updatable Ledger. This document defines the conceptual model, terminology, and standard usage patterns.

> [!NOTE]
> This documentation is implementation-agnostic and intended to serve as a stable reference.

## 1. Purpose and Problem Space
Describe why 47. SQL Ledger: Append-only vs Updatable Ledger exists and the class of problems it addresses.
The SQL Ledger is designed to provide a robust and reliable data storage solution for financial and accounting applications. The primary purpose of the SQL Ledger is to manage and maintain a complete and accurate record of all financial transactions. The class of problems it addresses includes data integrity, auditability, and scalability. The SQL Ledger provides two primary modes of operation: append-only and updatable. The append-only mode ensures that all transactions are permanently recorded and cannot be altered or deleted, while the updatable mode allows for modifications to existing transactions.

## 2. Conceptual Overview
Provide a high-level mental model of the topic.
The SQL Ledger can be conceptualized as a digital ledger book that stores all financial transactions in a sequential and immutable manner. The ledger is composed of a series of entries, each representing a single transaction. In the append-only mode, each new transaction is added to the end of the ledger, creating a permanent and unalterable record. In the updatable mode, existing transactions can be modified, but all changes are tracked and recorded, maintaining a complete audit trail.

## 3. Terminology and Definitions
| Term | Definition |
|------|------------|
| Append-only Ledger | A ledger that only allows new transactions to be added, without modifying or deleting existing transactions. |
| Updatable Ledger | A ledger that allows existing transactions to be modified or deleted, while maintaining a complete audit trail. |
| Transaction | A single entry in the ledger, representing a financial event or activity. |
| Ledger Entry | A single record in the ledger, containing all relevant information about a transaction. |
| Audit Trail | A complete and permanent record of all changes made to the ledger, including transaction modifications and deletions. |

## 4. Core Concepts
Explain the fundamental ideas that form the basis of this topic.
The core concepts of the SQL Ledger include data integrity, immutability, and auditability. The append-only mode ensures that all transactions are permanently recorded and cannot be altered or deleted, providing a high level of data integrity. The updatable mode allows for modifications to existing transactions, but all changes are tracked and recorded, maintaining a complete audit trail. The SQL Ledger also provides a high level of scalability, allowing it to handle large volumes of transactions and support multiple users.

## 5. Standard Model
Describe the generally accepted or recommended model.
The standard model for the SQL Ledger is to use the append-only mode for all financial transactions, ensuring that all transactions are permanently recorded and cannot be altered or deleted. This model provides the highest level of data integrity and immutability, and is recommended for all financial and accounting applications. The updatable mode can be used for non-financial transactions, such as corrections or adjustments, but all changes must be carefully tracked and recorded to maintain a complete audit trail.

## 6. Common Patterns
Document recurring, accepted patterns.
Common patterns for using the SQL Ledger include:
* Using the append-only mode for all financial transactions
* Using the updatable mode for non-financial transactions, such as corrections or adjustments
* Implementing a complete audit trail to track all changes made to the ledger
* Using the SQL Ledger to support multiple users and handle large volumes of transactions
* Integrating the SQL Ledger with other financial and accounting systems to provide a complete and accurate record of all financial activities.

## 7. Anti-Patterns
Describe common but discouraged practices.
Anti-patterns for using the SQL Ledger include:
* Using the updatable mode for financial transactions, which can compromise data integrity and immutability
* Failing to implement a complete audit trail, which can make it difficult to track changes made to the ledger
* Allowing multiple users to access and modify the ledger without proper controls and permissions
* Using the SQL Ledger to store non-financial data, which can compromise the integrity and accuracy of the financial records.

## 8. References
Provide exactly five authoritative external references.
1. [SQL Ledger Documentation](https://www.sqlledger.org/docs/)
2. [Financial Accounting Standards Board (FASB)](https://www.fasb.org/)
3. [Generally Accepted Accounting Principles (GAAP)](https://www.gaap.org/)
4. [International Financial Reporting Standards (IFRS)](https://www.ifrs.org/)
5. [American Institute of Certified Public Accountants (AICPA)](https://www.aicpa.org/)

## 9. Change Log
| Version | Date | Description |
|---------|------|-------------|
| 1.0 | 2026-02-14 | Initial documentation |
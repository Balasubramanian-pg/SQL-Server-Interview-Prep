# 11. Log Shipping: Backup, Copy, and Restore Jobs

Canonical documentation for 11. Log Shipping: Backup, Copy, and Restore Jobs. This document defines the conceptual model, terminology, and standard usage patterns.

> [!NOTE]
> This documentation is implementation-agnostic and intended to serve as a stable reference.

## 1. Purpose and Problem Space
Describe why 11. Log Shipping: Backup, Copy, and Restore Jobs exists and the class of problems it addresses.
Log shipping is a critical process that ensures data availability and disaster recovery by automating the backup, copy, and restore of transaction log files. It addresses the problem of data loss due to hardware or software failures, providing a high level of redundancy and minimizing downtime. The primary purpose of log shipping is to maintain a standby server that can be quickly brought online in the event of a primary server failure.

## 2. Conceptual Overview
Provide a high-level mental model of the topic.
Log shipping involves a primary server, a standby server, and a monitor server. The primary server generates transaction log files, which are backed up and copied to the standby server. The monitor server oversees the log shipping process, ensuring that the standby server is up-to-date and ready for failover. This process enables rapid recovery in the event of a failure, minimizing data loss and downtime.

## 3. Terminology and Definitions
| Term | Definition |
|------|------------|
| Log Shipping | The process of automating the backup, copy, and restore of transaction log files to a standby server. |
| Primary Server | The server that generates transaction log files and is the source of the log shipping process. |
| Standby Server | The server that receives the copied transaction log files and is ready to take over in the event of a primary server failure. |
| Monitor Server | The server that oversees the log shipping process, ensuring that the standby server is up-to-date and ready for failover. |
| Transaction Log File | A file that contains a record of all transactions performed on the primary server. |

## 4. Core Concepts
Explain the fundamental ideas that form the basis of this topic.
The core concepts of log shipping include:
* Backup: The process of creating a copy of the transaction log file on the primary server.
* Copy: The process of transferring the backed-up transaction log file to the standby server.
* Restore: The process of applying the transaction log file to the standby server, ensuring that it is up-to-date and ready for failover.
* Failover: The process of switching to the standby server in the event of a primary server failure.

## 5. Standard Model
Describe the generally accepted or recommended model.
The standard model for log shipping involves a primary server, a standby server, and a monitor server. The primary server generates transaction log files, which are backed up and copied to the standby server. The monitor server oversees the log shipping process, ensuring that the standby server is up-to-date and ready for failover. This model provides a high level of redundancy and minimizes downtime in the event of a failure.

## 6. Common Patterns
Document recurring, accepted patterns.
Common patterns in log shipping include:
* Regular backup and copy of transaction log files to the standby server.
* Automated failover to the standby server in the event of a primary server failure.
* Regular monitoring of the log shipping process to ensure that the standby server is up-to-date and ready for failover.

## 7. Anti-Patterns
Describe common but discouraged practices.
Anti-patterns in log shipping include:
* Manual backup and copy of transaction log files, which can lead to errors and delays.
* Infrequent monitoring of the log shipping process, which can result in the standby server being out-of-date and unable to take over in the event of a failure.
* Lack of testing and validation of the log shipping process, which can lead to unexpected failures and downtime.

## 8. References
Provide exactly five authoritative external references.
1. Microsoft. (2022). Log Shipping. Retrieved from <https://docs.microsoft.com/en-us/sql/database-engine/log-shipping?view=sql-server-ver15>
2. Oracle. (2022). Oracle Data Guard. Retrieved from <https://docs.oracle.com/en/database/oracle/oracle-database/21/sbydb/introduction-to-data-guard.html>
3. PostgreSQL. (2022). Log Shipping. Retrieved from <https://www.postgresql.org/docs/13/log-shipping.html>
4. IBM. (2022). DB2 Log Shipping. Retrieved from <https://www.ibm.com/docs/en/db2-for-zos/12?topic=shipping-log>
5. Red Hat. (2022). Log Shipping with PostgreSQL. Retrieved from <https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/deploying_different_types_of_servers/using-postgresql-as-a-database-server_log-shipping>

## 9. Change Log
| Version | Date | Description |
|---------|------|-------------|
| 1.0 | 2026-02-14 | Initial documentation |
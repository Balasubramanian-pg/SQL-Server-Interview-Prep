# 10. Quorum Models (Node Majority, Cloud Witness)

Canonical documentation for 10. Quorum Models (Node Majority, Cloud Witness). This document defines the conceptual model, terminology, and standard usage patterns.

> [!NOTE]
> This documentation is implementation-agnostic and intended to serve as a stable reference.

## 1. Purpose and Problem Space
Describe why 10. Quorum Models (Node Majority, Cloud Witness) exists and the class of problems it addresses.
The Quorum Models, including Node Majority and Cloud Witness, exist to ensure the high availability and reliability of distributed systems, particularly in the context of clustering and fault tolerance. The primary problem space addressed by these models is the prevention of split-brain scenarios, where a cluster is divided into two or more partitions, each believing it is the authoritative subset of nodes. This can lead to data inconsistencies, conflicts, and overall system instability. Quorum models provide a mechanism to determine which partition should be considered the legitimate one, thereby preventing such issues.

## 2. Conceptual Overview
Provide a high-level mental model of the topic.
At a high level, quorum models are about ensuring that a distributed system can make decisions and continue operating even when some of its components fail or become unreachable. This is achieved by defining a quorumâ€”a minimum number of votes required for the system to consider a decision valid. In the context of Node Majority and Cloud Witness, these votes can come from nodes within the cluster (Node Majority) or from an external, cloud-based witness (Cloud Witness). The model ensures that the system remains operational as long as a quorum is maintained, thus providing a balance between availability and consistency.

## 3. Terminology and Definitions
| Term | Definition |
|------|------------|
| Quorum | The minimum number of votes required for a distributed system to make a decision. |
| Node Majority | A quorum model where votes are cast by nodes within the cluster, requiring more than half of the nodes to be available for a quorum. |
| Cloud Witness | A quorum model that uses a cloud-based resource as a tiebreaker in the event of a split-brain scenario, providing an additional vote to determine which partition of the cluster is legitimate. |
| Split-Brain Scenario | A situation where a cluster is divided into two or more partitions, each of which believes it is the authoritative subset of nodes. |
| Fault Tolerance | The ability of a system to continue operating even when some of its components fail. |

## 4. Core Concepts
Explain the fundamental ideas that form the basis of this topic.
The core concepts of quorum models include the idea of voting, where each node or witness has a vote, and the requirement for a quorum to be achieved for the system to operate. Node Majority relies on the principle that the majority of nodes must be available and in agreement for the system to consider a decision valid. Cloud Witness introduces the concept of an external arbiter that can provide a decisive vote in the event of a tie, ensuring the system remains operational by preventing a split-brain scenario.

## 5. Standard Model
Describe the generally accepted or recommended model.
The standard model for achieving quorum in distributed systems involves implementing a Node Majority model as the primary means of achieving quorum, supplemented by a Cloud Witness for scenarios where the cluster is at risk of a split-brain situation. This combined approach balances the need for high availability with the requirement for consistency and data integrity.

## 6. Common Patterns
Document recurring, accepted patterns.
Common patterns include the use of Node Majority for clusters where the number of nodes is fixed and well-defined, and the integration of Cloud Witness in environments where the risk of network partitions is higher, such as in multi-site clusters. Another pattern is the dynamic adjustment of quorum models based on the current state of the cluster, such as temporarily switching to a Cloud Witness model during maintenance windows when node availability might be reduced.

## 7. Anti-Patterns
Describe common but discouraged practices.
Anti-patterns include the use of a static quorum model that does not adapt to changes in the cluster's topology or availability, and the reliance solely on Node Majority without any provision for resolving split-brain scenarios. Another discouraged practice is the manual intervention required to resolve quorum issues, which can lead to downtime and human error.

## 8. References
Provide exactly five authoritative external references.
1. Microsoft. (2022). *Quorum Modes*. Retrieved from <https://docs.microsoft.com/en-us/windows-server/failover-clustering/failover-clustering-quorum-modes>
2. VMware. (2022). *vSphere High Availability*. Retrieved from <https://docs.vmware.com/en/VMware-vSphere/7.0/com.vmware.esxi.cluster.doc/GUID-6CCF0F73-73BE-4FCE-A6E2-EC17B72F6C74.html>
3. Amazon Web Services. (2022). *Amazon EC2 Auto Scaling*. Retrieved from <https://docs.aws.amazon.com/autoscaling/ec2/userguide/what-is-amazon-ec2-auto-scaling.html>
4. Google Cloud. (2022). *Google Kubernetes Engine*. Retrieved from <https://cloud.google.com/kubernetes-engine>
5. Red Hat. (2022). *Red Hat Enterprise Linux High Availability Add-On*. Retrieved from <https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/deploying_different_types_of_servers/index>

## 9. Change Log
| Version | Date | Description |
|---------|------|-------------|
| 1.0 | 2026-02-14 | Initial documentation |
# 1. Windows vs SQL Authentication

Canonical documentation for [1. Windows vs SQL Authentication](5. Administration Security/1. Windows vs SQL Authentication.md). This document defines concepts, terminology, and standard usage.

## Purpose
The purpose of distinguishing between Windows and SQL Authentication is to define the boundary between externalized identity management and localized database security. This topic addresses how a database management system (DBMS) verifies the identity of a principal attempting to establish a connection. It explores the trade-offs between leveraging an existing operating system or directory service infrastructure versus maintaining an independent credential store within the database engine itself.

> [!NOTE]
> This documentation is intended to be implementation-agnostic and authoritative, focusing on the architectural implications of identity verification.

## Scope
Clarify what is in scope and out of scope for this topic.

> [!IMPORTANT]
> **In scope:**
> * Identity verification mechanisms (Who are you?)
> * Credential storage locations and management
> * Security implications of integrated vs. isolated authentication
> * Architectural patterns for application-to-database connectivity

> [!WARNING]
> **Out of scope:**
> * Authorization and permissions (What can you do?)
> * Specific network protocol configurations (e.g., TCP/IP vs. Named Pipes)
> * Step-by-step configuration guides for specific software versions

## Definitions
Provide precise definitions for key terms.

| Term | Definition |
|------|------------|
| Windows Authentication | A method where the database engine trusts the operating system or a central directory service (like Active Directory) to verify the user's identity. |
| SQL Authentication | A method where the database engine stores its own list of usernames and passwords and performs the verification itself. |
| Mixed Mode | A server configuration that allows both Windows Authentication and SQL Authentication simultaneously. |
| Principal | An entity (user, group, or process) that can request access to resources. |
| Trusted Connection | A connection established using Windows Authentication, implying the server trusts the identity provided by the OS. |
| Credential Store | The repository where identity secrets (passwords, hashes, or tokens) are kept. |

## Core Concepts
The fundamental difference between these two modes lies in the **Trust Authority**.

**Windows Authentication (Integrated Security)**
In this model, the database engine offloads the responsibility of authentication to the Windows operating system. When a user logs into a workstation, they receive a token. When they connect to the database, the database engine asks the OS to validate that token.
*   **Centralization:** Identity is managed in one place (e.g., Active Directory).
*   **Security:** Passwords are never transmitted to the database server; instead, cryptographic tickets or hashes are used.

**SQL Authentication (Database-Level Security)**
In this model, the database engine acts as its own identity provider. It maintains a table of logins and encrypted passwords.
*   **Portability:** The database is more self-contained, as it does not rely on an external directory service.
*   **Isolation:** It can function in environments where no domain or central authority exists.

> [!TIP]
> Think of Windows Authentication like a "Passport." The database (the border agent) trusts the Government (Active Directory) that issued the passport. SQL Authentication is like a "Membership Card" issued by a specific club; it is only valid at that club, and the club is responsible for verifying it.

## Standard Model
The generally accepted standard for enterprise environments is **Windows Authentication**. 

The standard model dictates that security should be centralized. By using Windows Authentication, organizations can enforce global password policies (complexity, rotation, lockout) and utilize Multi-Factor Authentication (MFA) across the entire infrastructure. When an employee leaves an organization, disabling their central account automatically revokes their database access, reducing the "orphan account" risk.

## Common Patterns
*   **Service Account Pattern:** Applications connect to the database using a dedicated low-privilege Windows service account rather than individual user accounts.
*   **Group-Based Access:** Permissions are assigned to Active Directory groups rather than individual Windows logins, simplifying administration.
*   **Cloud-Identity Mapping:** Modern implementations often map cloud-based identities (like Entra ID/Azure AD) to database principals, extending the Windows Authentication philosophy to the cloud.

## Anti-Patterns
*   **Hardcoded Credentials:** Storing SQL Authentication usernames and passwords in plain text within application configuration files or source code.
*   **The "sa" Trap:** Using the system administrator (sa) account for routine application connectivity.
*   **Shared Logins:** Multiple users or services sharing a single SQL Authentication login, which destroys auditability and accountability.

> [!CAUTION]
> Avoid using SQL Authentication in environments where centralized directory services are available. SQL Authentication increases the attack surface by creating multiple disparate credential stores that are often poorly managed.

## Edge Cases
*   **Non-Domain Environments:** In a DMZ or a standalone workgroup where no Active Directory exists, SQL Authentication is often the only viable option.
*   **Cross-Platform Connectivity:** Historically, connecting from Linux or macOS to a Windows-based database favored SQL Authentication, though modern Kerberos implementations have made Windows Authentication (Integrated Security) possible across platforms.
*   **Legacy System Integration:** Older applications that do not support integrated security tokens may require SQL Authentication for compatibility.

## Related Topics
*   **Role-Based Access Control (RBAC):** The process of assigning permissions once identity is verified.
*   **Encryption in Transit (TLS/SSL):** Ensuring that even if SQL Authentication is used, the credentials are not intercepted during the handshake.
*   **Active Directory / LDAP:** The underlying directory services that power Windows Authentication.

## Change Log
| Version | Date | Description |
|---------|------|-------------|
| 1.0 | 2026-02-13 | Initial AI-generated canonical documentation |